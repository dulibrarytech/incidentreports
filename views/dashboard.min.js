dashboard={element:"#reports-table",template:"dashboard",truncLength:150,init:function(){this.addFormValidation();this.bindEvents()},render:function(a){this.construct(a)},construct:function(a){$.get("templates/partials/ir-search-form.html",function(b){$("#dashboard-links").append(b);$("#show-all-reports-link").hide();dashboardView.init()});this.buildTable(a)},bindEvents:function(){$("#submit-report-search").click(function(a){a.preventDefault();if(dashboard.validateSearchForm()){userUtils.searchByOffenseType()}});$("#tracknum-search-form").bind("keypress",function(a){if(a.keyCode==13){a.preventDefault();$("#submit-tracknum-search").click()}});$("#report-search-form").bind("keypress",function(a){if(a.keyCode==13){a.preventDefault();$("#submit-report-search").click()}});$("#fromDate").focusout(function(){$("#submit-report-search").focus()});$("#toDate").focusout(function(){$("#submit-report-search").focus()})},buildTable:function(c){if(typeof c=="object"){$(this.element).html("");var e="";var d;var b;if(typeof c.MESSAGE=="string"){e+="<h4>"+c.MESSAGE+"</h4>"}else{e+="<thead>";e+='<tr><th width="6%">View Details</th><th width="2%">Tracking Number</th><th width="12%">Date of Report</th><th width="12%">Date of Offense</th><th width="12%">Report Completed By</th><th width="10%">Department</th><th width="12%">Nature of Offense</th><th width="34%">Offense Narrative</th></tr>';e+="</thead><tbody>";var a=this.truncLength;$.each(c,function(f,g){d='<a onclick="userUtils.openDetailsDialogWindow('+g.ReportID+')"><img src="assets/img/man-big-magnifying-glass.png" alt="Report details" width="22" height="22" /></a>';if(g.OffenseNarrative.length>a){b=g.OffenseNarrative.substring(0,a);b+="  <a onclick='userUtils.openFullNarrativeWindow("+g.ReportID+")'>more...</a>"}else{b=g.OffenseNarrative}e+="<tr><td>"+d+"</td><td>"+g.ReportID+"</td><td>"+g.DateOfReport+"</td><td>"+g.DateOfOffense+"</td><td>"+g.ReportCompletedBy+"</td><td>"+g.Department+"</td><td>"+g.NatureOfOffense+'</td><td id="offense-narrative">'+b+"</td></tr>"})}e+="</tbody>"}else{e="Error!";console.log("Error: dashboard.buildTable(): bad table data argument")}$(this.element).append(e)},addFormValidation:function(){},validateSearchForm:function(){return($("#fromDate").val().length<=10)&&($("#toDate").val().length<=10)&&($("#offenseType").val().length<=1000)},close:function(){}};