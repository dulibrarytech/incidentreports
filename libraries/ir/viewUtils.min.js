viewUtils=(function(f){var b,c,g,a,e;var a;var d=null;b=function(){};c=function(h,i){if(typeof i=="undefined"){i=null}f(viewFrame).empty();f.get("templates/"+h+".html",function(k){f(viewFrame).append(k);var j=window[h];if(typeof j!="undefined"){j.render(i)}else{console.log("Error: view not found for template '"+h+"'!")}});a("#/"+h)};g=function(h,i){if(h==true){f("#login-link").hide();f("#logout-link").show();f("#dashboard-link").show();if(i==true){f("#users-link").show()}}else{if(h==false){f("#login-link").show();f("#logout-link").hide();f("#dashboard-link").hide();f("#users-link").hide()}}};a=function(h){history.pushState("","",base_url+h)};e=function(j,k,h){d=h;f("#main").append('<div id="modalFrame"></div>');var i='<a onclick="killModal()" class="modal-button">close</a>';f("#modalFrame").append(i+'<div id="modalFrameInner"></div>');if(typeof h=="undefined"||h==null){f("#modalFrameInner").append(j);f("#wrapper").append('<div id="blackout"></div>')}else{f.get(j,function(l){f("#modalFrameInner").append(l);h.render(k);f("#wrapper").append('<div id="blackout"></div>')})}};killModal=function(){f("#modalFrame").remove();f("#blackout").remove();if(d!=null){d.close()}};return{initMenu:function(){b()},renderTemplate:function(h,i){c(h,i)},showAuthenticatedMenulinks:function(h,i){g(h,i)},setURL:function(h){a(h)},openModalView:function(i,j,h){e(i,j,h)},killModal:function(){killModal()}}}(jQuery));